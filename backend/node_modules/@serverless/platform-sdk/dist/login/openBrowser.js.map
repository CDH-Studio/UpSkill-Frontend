{"version":3,"sources":["../../src/login/openBrowser.js"],"names":["displayManualOpenMessage","url","err","console","log","errMsg","message","msg","chalk","red","green","yellow","module","exports","openBrowser","browser","process","env","BROWSER","platform","undefined","options","wait","app","catch"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,wBAAT,CAAkCC,GAAlC,EAAuCC,GAAvC,EAA4C;AAC1C;AACAC,UAAQC,GAAR,CAAY,6BAAZ;AACA,MAAMC,SAASH,MAAO,YAAWA,IAAII,OAAQ,EAA9B,GAAkC,EAAjD;AACA,MAAMC,MAAO,uCAAsCF,MAAO,EAA1D;AACAF,UAAQC,GAAR,CAAa,OAAMI,gBAAMC,GAAN,CAAUF,GAAV,CAAe,EAAlC;AACAJ,UAAQC,GAAR,CAAYI,gBAAME,KAAN,CAAY,yDAAZ,CAAZ;AACAP,UAAQC,GAAR,CAAYI,gBAAMG,MAAN,CAAaV,GAAb,CAAZ;AACAE,UAAQC,GAAR,CAAY,6BAAZ;AACA,SAAO,KAAP;AACD,C,CAhBD;;AAkBAQ,OAAOC,OAAP,GAAiB,SAASC,WAAT,CAAqBb,GAArB,EAA0B;AACzC,MAAIc,UAAUC,QAAQC,GAAR,CAAYC,OAA1B;AACA,MAAIH,YAAY,MAAZ,IAAsB,yBAA1B,EAA+C;AAC7C,WAAOf,yBAAyBC,GAAzB,CAAP;AACD;AACD,MAAIe,QAAQG,QAAR,KAAqB,QAArB,IAAiCJ,YAAY,MAAjD,EAAyD;AACvDA,cAAUK,SAAV;AACD;AACD,MAAMC,UAAU,EAAEC,MAAM,KAAR,EAAeC,KAAKR,OAApB,EAAhB;AACA,SAAO,mBAAId,GAAJ,EAASoB,OAAT,EAAkBG,KAAlB,CAAwB,UAACtB,GAAD;AAAA,WAASF,yBAAyBC,GAAzB,EAA8BC,GAA9B,CAAT;AAAA,GAAxB,CAAP;AACD,CAVD","file":"openBrowser.js","sourcesContent":["/* eslint-disable no-console */\n\nimport opn from 'opn'\nimport chalk from 'chalk'\nimport isDockerContainer from 'is-docker'\n\nfunction displayManualOpenMessage(url, err) {\n  // https://github.com/sindresorhus/log-symbols\n  console.log('---------------------------')\n  const errMsg = err ? `\\nError: ${err.message}` : ''\n  const msg = `Unable to open browser automatically${errMsg}`\n  console.log(`ğŸ™ˆ  ${chalk.red(msg)}`)\n  console.log(chalk.green('Please open your browser & open the URL below to login:'))\n  console.log(chalk.yellow(url))\n  console.log('---------------------------')\n  return false\n}\n\nmodule.exports = function openBrowser(url) {\n  let browser = process.env.BROWSER\n  if (browser === 'none' || isDockerContainer()) {\n    return displayManualOpenMessage(url)\n  }\n  if (process.platform === 'darwin' && browser === 'open') {\n    browser = undefined\n  }\n  const options = { wait: false, app: browser }\n  return opn(url, options).catch((err) => displayManualOpenMessage(url, err))\n}\n"]}